{"numFailedTestSuites":1,"numFailedTests":6,"numPassedTestSuites":0,"numPassedTests":27,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":33,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1763709095340,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["CombatManagerComponent","Component Initialization"],"duration":262,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Component Initialization should create the component","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709096812,"status":"passed","title":"should create the component"},{"ancestorTitles":["CombatManagerComponent","Component Initialization"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Component Initialization should initialize with default values","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763709097076,"status":"passed","title":"should initialize with default values"},{"ancestorTitles":["CombatManagerComponent","Component Initialization"],"duration":11,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected value: \u001b[32m\"baseStats\"\u001b[39m\nReceived array: \u001b[31m[\"summary\", \"content\", \"category\", \"isCombatManagerSource\", \"enableCompletionTracking\", \"isCompleted\", \"path_components\"]\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected value: \u001b[32m\"baseStats\"\u001b[39m\nReceived array: \u001b[31m[\"summary\", \"content\", \"category\", \"isCombatManagerSource\", \"enableCompletionTracking\", \"isCompleted\", \"path_components\"]\u001b[39m\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:62:45)\n    at Promise.finally.completed (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CombatManagerComponent Component Initialization should have METADATA_KEYS including baseStats, stats, and entityId","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763709097088,"status":"failed","title":"should have METADATA_KEYS including baseStats, stats, and entityId"},{"ancestorTitles":["CombatManagerComponent","_isNavigable Method"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent _isNavigable Method should return false for null or undefined nodes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763709097111,"status":"passed","title":"should return false for null or undefined nodes"},{"ancestorTitles":["CombatManagerComponent","_isNavigable Method"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent _isNavigable Method should return false for primitive values","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763709097121,"status":"passed","title":"should return false for primitive values"},{"ancestorTitles":["CombatManagerComponent","_isNavigable Method"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent _isNavigable Method should return false for nodes with no children","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097129,"status":"passed","title":"should return false for nodes with no children"},{"ancestorTitles":["CombatManagerComponent","_isNavigable Method"],"duration":8,"failing":false,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:99:64)\n    at Promise.finally.completed (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CombatManagerComponent _isNavigable Method should return true for container entities with children","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763709097138,"status":"failed","title":"should return true for container entities with children"},{"ancestorTitles":["CombatManagerComponent","_isNavigable Method"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent _isNavigable Method should return true for categories with templates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097146,"status":"passed","title":"should return true for categories with templates"},{"ancestorTitles":["CombatManagerComponent","_isNavigable Method"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent _isNavigable Method should filter out METADATA_KEYS from child detection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097154,"status":"passed","title":"should filter out METADATA_KEYS from child detection"},{"ancestorTitles":["CombatManagerComponent","_isNavigable Method"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent _isNavigable Method should return false for leaf templates (entityId with no navigable children)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097163,"status":"passed","title":"should return false for leaf templates (entityId with no navigable children)"},{"ancestorTitles":["CombatManagerComponent","topLevelCategoryOptions Computed Signal"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent topLevelCategoryOptions Computed Signal should return Custom and Find when no codex data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763709097173,"status":"passed","title":"should return Custom and Find when no codex data"},{"ancestorTitles":["CombatManagerComponent","topLevelCategoryOptions Computed Signal"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent topLevelCategoryOptions Computed Signal should include sources marked with isCombatManagerSource","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763709097180,"status":"passed","title":"should include sources marked with isCombatManagerSource"},{"ancestorTitles":["CombatManagerComponent","topLevelCategoryOptions Computed Signal"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent topLevelCategoryOptions Computed Signal should sort sources alphabetically","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097187,"status":"passed","title":"should sort sources alphabetically"},{"ancestorTitles":["CombatManagerComponent","Template Detection Logic"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Template Detection Logic should extract templates from child objects","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763709097196,"status":"passed","title":"should extract templates from child objects"},{"ancestorTitles":["CombatManagerComponent","Template Detection Logic"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Template Detection Logic should handle content arrays with non-rich-text","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763709097206,"status":"passed","title":"should handle content arrays with non-rich-text"},{"ancestorTitles":["CombatManagerComponent","Template Detection Logic"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Template Detection Logic should ignore rich text content arrays","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097216,"status":"passed","title":"should ignore rich text content arrays"},{"ancestorTitles":["CombatManagerComponent","Template Detection Logic"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Template Detection Logic should reset template options when source changes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763709097236,"status":"passed","title":"should reset template options when source changes"},{"ancestorTitles":["CombatManagerComponent","Fight Management"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Fight Management should create a new fight","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763709097251,"status":"passed","title":"should create a new fight"},{"ancestorTitles":["CombatManagerComponent","Fight Management"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Fight Management should not create fight with empty name","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763709097265,"status":"passed","title":"should not create fight with empty name"},{"ancestorTitles":["CombatManagerComponent","Fight Management"],"duration":6,"failing":false,"failureDetails":[{}],"failureMessages":["ReferenceError: spyOn is not defined\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:245:13)\n    at Promise.finally.completed (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CombatManagerComponent Fight Management should delete a fight","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763709097273,"status":"failed","title":"should delete a fight"},{"ancestorTitles":["CombatManagerComponent","Fight Management"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Fight Management should set current fight and load combatants","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763709097280,"status":"passed","title":"should set current fight and load combatants"},{"ancestorTitles":["CombatManagerComponent","Combatant Management"],"duration":47,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Combatant Management should add custom combatant","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763709097316,"status":"passed","title":"should add custom combatant"},{"ancestorTitles":["CombatManagerComponent","Combatant Management"],"duration":24,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Combatant Management should remove combatant","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763709097364,"status":"passed","title":"should remove combatant"},{"ancestorTitles":["CombatManagerComponent","Combatant Management"],"duration":28,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Combatant Management should update combatant HP","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763709097389,"status":"passed","title":"should update combatant HP"},{"ancestorTitles":["CombatManagerComponent","Combat State Transitions"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Combat State Transitions should start combat","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763709097418,"status":"passed","title":"should start combat"},{"ancestorTitles":["CombatManagerComponent","Combat State Transitions"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Combat State Transitions should end combat","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763709097439,"status":"passed","title":"should end combat"},{"ancestorTitles":["CombatManagerComponent","Turn Management"],"duration":19,"failing":false,"failureDetails":[{},{}],"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /codex/api/dm-toolkit/fights/fight-001\", found none. Requests received are: GET /codex/api/dm-toolkit/fights/fight-001/combatants.\n    at _HttpClientTestingBackend.expectOne (C:\\tofu\\codex\\codex-admin\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:273:19)\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:473:37)","Error: Expected no open requests, found 1: GET /codex/api/dm-toolkit/fights/fight-001/combatants\n    at _HttpClientTestingBackend.verify (C:\\tofu\\codex\\codex-admin\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:301:19)\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:43:18)\n    at Promise.finally.completed (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusHook (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:976:40)\n    at _runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:5)\n    at C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CombatManagerComponent Turn Management should advance to next turn","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097457,"status":"failed","title":"should advance to next turn"},{"ancestorTitles":["CombatManagerComponent","Turn Management"],"duration":16,"failing":false,"failureDetails":[{},{}],"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /codex/api/dm-toolkit/fights/fight-001/combatants\", found none.\n    at _HttpClientTestingBackend.expectOne (C:\\tofu\\codex\\codex-admin\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:273:19)\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:502:44)\n    at Promise.finally.completed (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:343:7)","Error: Expected no open requests, found 1: GET /codex/api/dm-toolkit/fights/fight-001/combatants\n    at _HttpClientTestingBackend.verify (C:\\tofu\\codex\\codex-admin\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:301:19)\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:43:18)\n    at Promise.finally.completed (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusHook (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:976:40)\n    at _runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:5)\n    at C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CombatManagerComponent Turn Management should go to previous turn","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097480,"status":"failed","title":"should go to previous turn"},{"ancestorTitles":["CombatManagerComponent","HP Calculation"],"duration":6,"failing":false,"failureDetails":[{"matcherResult":{"actual":39,"expected":45,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m45\u001b[39m\nReceived: \u001b[31m39\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m45\u001b[39m\nReceived: \u001b[31m39\u001b[39m\n    at Object.<anonymous> (C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts:515:77)\n    at Promise.finally.completed (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (C:\\tofu\\codex\\codex-admin\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"CombatManagerComponent HP Calculation should calculate average HP from string","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763709097498,"status":"failed","title":"should calculate average HP from string"},{"ancestorTitles":["CombatManagerComponent","HP Calculation"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent HP Calculation should calculate max HP from dice string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097505,"status":"passed","title":"should calculate max HP from dice string"},{"ancestorTitles":["CombatManagerComponent","HP Calculation"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent HP Calculation should handle HP strings without dice notation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097512,"status":"passed","title":"should handle HP strings without dice notation"},{"ancestorTitles":["CombatManagerComponent","Cascading Dropdowns"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Cascading Dropdowns should compute correct dropdown levels","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763709097518,"status":"passed","title":"should compute correct dropdown levels"},{"ancestorTitles":["CombatManagerComponent","Cascading Dropdowns"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CombatManagerComponent Cascading Dropdowns should handle path changes correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763709097526,"status":"passed","title":"should handle path changes correctly"}],"endTime":1763709097571,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › Component Initialization › should have METADATA_KEYS including baseStats, stats, and entityId\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected value: \u001b[32m\"baseStats\"\u001b[39m\n    Received array: \u001b[31m[\"summary\", \"content\", \"category\", \"isCombatManagerSource\", \"enableCompletionTracking\", \"isCompleted\", \"path_components\"]\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 60 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m         it(\u001b[32m'should have METADATA_KEYS including baseStats, stats, and entityId'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 62 |\u001b[39m             expect(component\u001b[33m.\u001b[39m\u001b[33mMETADATA_KEYS\u001b[39m)\u001b[33m.\u001b[39mtoContain(\u001b[32m'baseStats'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m             expect(component\u001b[33m.\u001b[39m\u001b[33mMETADATA_KEYS\u001b[39m)\u001b[33m.\u001b[39mtoContain(\u001b[32m'stats'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 64 |\u001b[39m             expect(component\u001b[33m.\u001b[39m\u001b[33mMETADATA_KEYS\u001b[39m)\u001b[33m.\u001b[39mtoContain(\u001b[32m'entityId'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 65 |\u001b[39m             expect(component\u001b[33m.\u001b[39m\u001b[33mMETADATA_KEYS\u001b[39m)\u001b[33m.\u001b[39mtoContain(\u001b[32m'summary'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:62:45)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › _isNavigable Method › should return true for container entities with children\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32mtrue\u001b[39m\n    Received: \u001b[31mfalse\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  97 |\u001b[39m                 }\u001b[22m\n\u001b[2m     \u001b[90m  98 |\u001b[39m             }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  99 |\u001b[39m             expect(component[\u001b[32m'_isNavigable'\u001b[39m](containerEntity))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 100 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 101 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 102 |\u001b[39m         it(\u001b[32m'should return true for categories with templates'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:99:64)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › Fight Management › should delete a fight\u001b[39m\u001b[22m\n\n    ReferenceError: spyOn is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 243 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 244 |\u001b[39m         it(\u001b[32m'should delete a fight'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 245 |\u001b[39m             spyOn(window\u001b[33m,\u001b[39m \u001b[32m'confirm'\u001b[39m)\u001b[33m.\u001b[39mand\u001b[33m.\u001b[39mreturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 246 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 247 |\u001b[39m             component\u001b[33m.\u001b[39mhandleDeleteFight(\u001b[32m'fight-001'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 248 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:245:13)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › Turn Management › should advance to next turn\u001b[39m\u001b[22m\n\n    Expected one matching request for criteria \"Match URL: /codex/api/dm-toolkit/fights/fight-001\", found none. Requests received are: GET /codex/api/dm-toolkit/fights/fight-001/combatants.\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 471 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 472 |\u001b[39m             \u001b[90m// handleNextTurn likely logs\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 473 |\u001b[39m             \u001b[36mconst\u001b[39m logReq \u001b[33m=\u001b[39m httpMock\u001b[33m.\u001b[39mexpectOne(\u001b[32m'/codex/api/dm-toolkit/fights/fight-001'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 474 |\u001b[39m             expect(logReq\u001b[33m.\u001b[39mrequest\u001b[33m.\u001b[39mmethod)\u001b[33m.\u001b[39mtoBe(\u001b[32m'PATCH'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 475 |\u001b[39m             logReq\u001b[33m.\u001b[39mflush({})\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 476 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat _HttpClientTestingBackend.expectOne (\u001b[22m\u001b[2mnode_modules/@angular/common/fesm2022/http/testing.mjs\u001b[2m:273:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:473:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › Turn Management › should advance to next turn\u001b[39m\u001b[22m\n\n    Expected no open requests, found 1: GET /codex/api/dm-toolkit/fights/fight-001/combatants\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 41 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 42 |\u001b[39m     afterEach(() \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 43 |\u001b[39m         httpMock\u001b[33m.\u001b[39mverify()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 44 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 45 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m     describe(\u001b[32m'Component Initialization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat _HttpClientTestingBackend.verify (\u001b[22m\u001b[2mnode_modules/@angular/common/fesm2022/http/testing.mjs\u001b[2m:301:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:43:18)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › Turn Management › should go to previous turn\u001b[39m\u001b[22m\n\n    Expected one matching request for criteria \"Match URL: /codex/api/dm-toolkit/fights/fight-001/combatants\", found none.\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 500 |\u001b[39m             req\u001b[33m.\u001b[39mflush(updatedFight)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 501 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 502 |\u001b[39m             \u001b[36mconst\u001b[39m combatantsReq \u001b[33m=\u001b[39m httpMock\u001b[33m.\u001b[39mexpectOne(\u001b[32m'/codex/api/dm-toolkit/fights/fight-001/combatants'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 503 |\u001b[39m             combatantsReq\u001b[33m.\u001b[39mflush([])\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 504 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 505 |\u001b[39m             \u001b[36mawait\u001b[39m fixture\u001b[33m.\u001b[39mwhenStable()\u001b[33m;\u001b[39m fixture\u001b[33m.\u001b[39mdetectChanges()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat _HttpClientTestingBackend.expectOne (\u001b[22m\u001b[2mnode_modules/@angular/common/fesm2022/http/testing.mjs\u001b[2m:273:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:502:44)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › Turn Management › should go to previous turn\u001b[39m\u001b[22m\n\n    Expected no open requests, found 1: GET /codex/api/dm-toolkit/fights/fight-001/combatants\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 41 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 42 |\u001b[39m     afterEach(() \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 43 |\u001b[39m         httpMock\u001b[33m.\u001b[39mverify()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 44 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 45 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m     describe(\u001b[32m'Component Initialization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat _HttpClientTestingBackend.verify (\u001b[22m\u001b[2mnode_modules/@angular/common/fesm2022/http/testing.mjs\u001b[2m:301:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:43:18)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCombatManagerComponent › HP Calculation › should calculate average HP from string\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m45\u001b[39m\n    Received: \u001b[31m39\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 513 |\u001b[39m     describe(\u001b[32m'HP Calculation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 514 |\u001b[39m         it(\u001b[32m'should calculate average HP from string'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 515 |\u001b[39m             expect(component\u001b[33m.\u001b[39mcomputeHpFromString(\u001b[32m'45 (6d8+12)'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'average'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[35m45\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 516 |\u001b[39m             expect(component\u001b[33m.\u001b[39mcomputeHpFromString(\u001b[32m'38 (7d8+7)'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'average'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[35m38\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 517 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 518 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/app/dm-toolkit/combat-manager/combat-manager.component.spec.ts\u001b[39m\u001b[0m\u001b[2m:515:77)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\tofu\\codex\\codex-admin\\src\\app\\dm-toolkit\\combat-manager\\combat-manager.component.spec.ts","startTime":1763709096241,"status":"failed","summary":""}],"wasInterrupted":false}
